{%block stylesheet %}
<link rel="stylesheet" href="{{ asset('css/navbar.css') }}" />
{% endblock %}
{% block javascripts %}
  <script src="{{ asset('js/cart.js') }}"></script>
    <script src="{{ asset('js/userdropdown.js') }}"></script>
{% endblock %}

<header>
    <div class="logo" onclick="location.href='{{ path('index') }}'">RT Pizza</div>
    <nav>
        <a href="{{ path('menu') }}">Menu</a>
        <a href="{{ path('make_your_own') }}">Make your Own Pizza</a>
        <a href="#contact">Contact</a>

        <div class="cart-container">
            <a href="#" class="cart-icon" id="cart-icon">
                Cart ðŸ›’ <span id="cart-count" class="cart-count">0</span>
            </a>

            <!-- Dropdown panel -->
            <div class="cart-dropdown" id="cart-dropdown">
                <h4>Your Cart</h4>
                <div class="cart-items" id="cart-items">
                <p>Your cart is empty.</p>
                </div>
                <button class="checkout-btn">Checkout</button>
            </div>
        </div>

        {% if app.user %}
            <div class="user-menu">
                <span class="username" onclick="toggleDropdown()">
                    ðŸ‘¤ {{ app.user.username }}
                    {% if is_granted('ROLE_ADMIN') %}
                        <span class="tag-admin">[Admin]</span>
                    {% endif %}
                </span>
                <div class="dropdown" id="user-dropdown">
                    <a href="{{ path('logout') }}">Logout</a>
                    {% if is_granted('ROLE_ADMIN') %}
                        <a href="{{ path('menu_add') }}">Add Product</a>
                        <a href="{{ path('ingredient_stock') }}">Check Ingredients</a>
                    {% endif %}
                </div>
            </div>
        {% else %}
            <a href="{{ path('log_reg_page') }}">Connexion</a>
        {% endif %}
    </nav>
</header>