{% extends 'base.html.twig' %}

{% block title %}Menu{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/menu.css') }}" />
{% endblock %}

{% block body %}
    
<header>
    <h1>Our Delicious Pizza Menu</h1>
</header>

<main>
    <div class="products-container">
        {% for product in products %}
            <article class="product-card">
                {% if product.imageUrl %}
                    <img src="{{ product.imageUrl }}" alt="{{ product.name }} image" class="product-image">
                {% else %}
                    <div class="no-image">Image not available</div>
                {% endif %}
                <h2 class="product-name">{{ product.name }}</h2>
                <p class="product-description">{{ product.description }}</p>
                <p class="product-price">${{ product.price }}</p>
                     <button type="submit" class="add-to-cart-btn">➕ Add to Cart</button>
                     <p>Debug URL: {{ path('cart_add', {'id': product.id}) }}</p>
                <form action="{{ path('cart_add', {'id': product.id}) }}" method="post">
                    <button type="submit" class="add-to-cart-btn">➕ Add to Cart</button>
                </form>

            </article>
        {% else %}
            <p>No products found.</p>
        {% endfor %}
    </div>
</main>

<script src="{{ asset('js/menu.js') }}"></script>
{% endblock %}